(this.webpackJsonppeliculas=this.webpackJsonppeliculas||[]).push([[0],{28:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUdwTP///////////waf0AoAAAADdFJOUwCAv5or8ogAAADHSURBVHja7duhDgAgCEBBmp/tT5vF6txsbhjuKuV1IAIAAAAAAAAAAAAAAICftDzNbdrzkSFAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIEOBSAwAAAAAAAIAr23MBAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgOd3AAAAAAAAAMrZngsQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECPL8DAAAAAAAAAAAAAABUWM18bKnDf7a7AAAAAElFTkSuQmCC"},32:function(e,t,a){},36:function(e,t,a){e.exports=a(59)},51:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),l=a.n(r),n=a(33),i=a.n(n),s=a(20),o=a(16),c=a(9),m=a(10),u=a(3),d=a(11),h=a(12),b=a(6),g=a.n(b),p={apiKey:"AIzaSyCb3BqsxK9vTX0CVhh6h8uxJd6ha15nHUQ",authDomain:"peliculas-1b60a.firebaseapp.com",databaseURL:"https://peliculas-1b60a.firebaseio.com",projectId:"peliculas-1b60a",storageBucket:"peliculas-1b60a.appspot.com",messagingSenderId:"127749849117",appId:"1:127749849117:web:943698b0b34888753646f4",measurementId:"G-VXZJT5LCEL"},E=(a(51),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={email:"",password:"",r2:!1,r3:!1,mensajeError:""},r.handleChangeEmail=r.handleChangeEmail.bind(Object(u.a)(r)),r.handleChangePassword=r.handleChangePassword.bind(Object(u.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r.handleClickRegistrar=r.handleClickRegistrar.bind(Object(u.a)(r)),r}return Object(m.a)(a,[{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),g.a.apps.length)a=g.a.app("firestore");else var a=g.a.initializeApp(p,"firestore");a.firestore().collection("usuarios").get().then((function(e){e.forEach((function(e){var a=e.get("email"),r=e.get("password"),l=e.get("nombre"),n=e.get("nivel");a==t.state.email&&r==t.state.password&&(localStorage.setItem("nombre",l),localStorage.setItem("password",r),localStorage.setItem("email",a),localStorage.setItem("nivel",n),localStorage.setItem("mi_perfil","0"),localStorage.setItem("peliculas","1"),localStorage.setItem("series","0"),localStorage.setItem("favoritas","0"),t.setState({r2:!0}))}));/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.state.email)?(document.getElementById("errorLogin").style.visibility="visible",t.setState({mensajeError:"*Las credenciales no son v\xe1lidas"})):(document.getElementById("errorLogin").style.visibility="visible",t.setState({mensajeError:"*Ingresa un e-mail v\xe1lido."}))}))}},{key:"handleClickRegistrar",value:function(e){e.preventDefault(),this.setState({r3:!0})}},{key:"render",value:function(){return this.state.r2?l.a.createElement(o.a,{to:"/peliculas/inicio"}):this.state.r3?l.a.createElement(o.a,{to:"/peliculas/registro"}):l.a.createElement("div",null,l.a.createElement("h1",{align:"center"},"El Club de la Pel\xedcula"),l.a.createElement("h2",{align:"center"},"La primer regla del Club de la Pel\xedcula es no hablar del Club de la Pel\xedcula"),l.a.createElement("div",{className:"wrapper fadeInDown"},l.a.createElement("div",{id:"formContent"},l.a.createElement("h2",{align:"center"},"Inicia Sesi\xf3n"),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{align:"center"},l.a.createElement("h3",null,l.a.createElement("input",{id:"login",required:!0,className:"fadeIn second",name:"login",placeholder:"E-mail",type:"text",value:this.state.email,onChange:this.handleChangeEmail}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{id:"password",required:!0,className:"fadeIn third",name:"login",placeholder:"Contrase\xf1a",type:"password",value:this.state.password,onChange:this.handleChangePassword}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"errorLogin",style:{visibility:"hidden",color:"red"}},this.state.mensajeError),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Ingresar",className:"fadeIn fourth"}),l.a.createElement("br",null),l.a.createElement("br",null)))),l.a.createElement("div",{id:"formFooter"},l.a.createElement("h3",{align:"center",className:"astyle underlineHover",onClick:this.handleClickRegistrar},"Reg\xedstrate aqu\xed")))))}}]),a}(l.a.Component)),v=(a(56),a(28)),A=a.n(v),f=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={nombre:"",password:"",errorNombre:"",errorPassword:"",nombreTitulo:localStorage.getItem("nombre")},r.handleChangeNombre=r.handleChangeNombre.bind(Object(u.a)(r)),r.handleChangePassword=r.handleChangePassword.bind(Object(u.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(m.a)(a,[{key:"handleChangeNombre",value:function(e){this.setState({nombre:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),g.a.apps.length)a=g.a.app("firestore");else var a=g.a.initializeApp(p,"firestore");this.state.nombre.includes(" ")||this.state.nombre.length>20||this.state.password.length<8||this.state.password.length>12?(this.state.nombre.includes(" ")?(document.getElementById("errorNombreA").style.visibility="visible",this.setState({errorNombre:"*El nombre no puede contener espacios."})):this.state.nombre.length>20?(document.getElementById("errorNombreA").style.visibility="visible",this.setState({errorNombre:"*El nombre no puede tener m\xe1s de 20 caracteres."})):(document.getElementById("errorNombreA").style.visibility="hidden",this.setState({errorNombre:""})),this.state.password.length<8||this.state.password.length>12?(document.getElementById("errorPasswordA").style.visibility="visible",this.setState({errorPassword:"*La contrase\xf1a debe tener entre 8 y 12 caracteres."})):(document.getElementById("errorPasswordA").style.visibility="hidden",this.setState({errorPassword:""}))):this.state.nombre==localStorage.getItem("nombre")||this.state.password==localStorage.getItem("password")?this.state.nombre==localStorage.getItem("nombre")&&this.state.password==localStorage.getItem("password")?(document.getElementById("errorNombreA").style.visibility="hidden",document.getElementById("errorPasswordA").style.visibility="visible",this.setState({errorPassword:"*Ingresa un nombre o contrase\xf1a nueva."})):this.state.nombre==localStorage.getItem("nombre")?(document.getElementById("errorPasswordA").style.visibility="hidden",document.getElementById("errorNombreA").style.visibility="hidden",a.firestore().collection("usuarios").get().then((function(e){e.forEach((function(e){e.get("email")==localStorage.getItem("email")&&(e.ref.set({email:localStorage.getItem("email"),nombre:localStorage.getItem("nombre"),nivel:localStorage.getItem("nivel"),password:t.state.password}),localStorage.setItem("password",t.state.password))}))})),alert("\xa1Tu contrase\xf1a se ha actualizado con \xe9xito!"),this.forceUpdate()):(document.getElementById("errorPasswordA").style.visibility="hidden",document.getElementById("errorNombreA").style.visibility="hidden",a.firestore().collection("usuarios").get().then((function(e){e.forEach((function(e){e.get("email")==localStorage.getItem("email")&&(e.ref.set({email:localStorage.getItem("email"),nombre:t.state.nombre,nivel:localStorage.getItem("nivel"),password:localStorage.getItem("password")}),localStorage.setItem("nombre",t.state.nombre))}))})),alert("\xa1Tu nombre se ha actualizado con \xe9xito!"),this.setState({nombreTitulo:this.state.nombre}),this.forceUpdate()):(document.getElementById("errorPasswordA").style.visibility="hidden",document.getElementById("errorNombreA").style.visibility="hidden",a.firestore().collection("usuarios").get().then((function(e){e.forEach((function(e){e.get("email")==localStorage.getItem("email")&&(e.ref.set({email:localStorage.getItem("email"),nombre:t.state.nombre,nivel:localStorage.getItem("nivel"),password:t.state.password}),localStorage.setItem("nombre",t.state.nombre),localStorage.setItem("password",t.state.password))}))})),alert("\xa1Tu nombre y tu contrase\xf1a se han actualizado con \xe9xito!"),this.setState({nombreTitulo:this.state.nombre}),this.forceUpdate())}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",{align:"center"},this.state.nombreTitulo),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",{align:"center"},"Nivel: ",localStorage.getItem("nivel")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",{align:"center"},"Actualizar Datos"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{id:"formContent"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{align:"center"},l.a.createElement("h3",null,l.a.createElement("input",{required:!0,placeholder:"Nombre",type:"text",value:this.state.nombre,onChange:this.handleChangeNombre}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"errorNombreA",style:{visibility:"hidden",color:"red",marginBottom:"20px"}},this.state.errorNombre),l.a.createElement("br",null),l.a.createElement("input",{required:!0,placeholder:"Contrase\xf1a",type:"password",value:this.state.password,onChange:this.handleChangePassword}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"errorPasswordA",style:{visibility:"hidden",color:"red",marginBottom:"20px"}},this.state.errorPassword),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Actualizar"}),l.a.createElement("br",null),l.a.createElement("br",null)))))))}}]),a}(l.a.Component),y=a(15),C=a.n(y),S=a(22),I=(a(32),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"pelicula",align:"center"},l.a.createElement("div",{className:"poster",align:"center"},l.a.createElement("img",{src:this.props.url}),l.a.createElement("h2",null,this.props.nombre," - ",this.props.fecha)))}}]),a}(l.a.Component)),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={pagina:1,peliculas:[]},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(C.a.mark((function e(){var t,a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.a.app("firestore"),e.next=3,t.firestore().collection("peliculas").get().then(function(){var e=Object(S.a)(C.a.mark((function e(r){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.size-20*(a.state.pagina-1);case 1:if(!(n>r.size-20*(a.state.pagina-1)-20)){e.next=8;break}if(!(n>0)){e.next=5;break}return e.next=5,t.firestore().collection("peliculas").doc(n.toString()).get().then(function(){var e=Object(S.a)(C.a.mark((function e(r){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("nombre");case 2:return e.t0=e.sent,e.t1=e.t0+" - ",e.t2=r.get("fecha"),e.t3=e.t1+e.t2,n=e.t3+".jpg",e.next=9,t.storage().ref("Portadas").child(n.toString()).getDownloadURL().then(function(){var e=Object(S.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({peliculas:a.state.peliculas.concat([l.a.createElement(I,{url:t,nombre:r.get("nombre"),fecha:r.get("fecha")})])});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:n--,e.next=1;break;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",{align:"center"},"Pel\xedculas"),l.a.createElement("div",{className:"botones"},l.a.createElement("input",{className:"botonAnterior",type:"button",value:"Anterior"}),l.a.createElement("input",{className:"botonSiguiente",type:"button",value:"Siguiente"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{id:"contenido"},this.state.peliculas))}}]),a}(l.a.Component),P=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={r1:!1,r2:!1},r.handleCerrarSesion=r.handleCerrarSesion.bind(Object(u.a)(r)),r.handleMiPerfil=r.handleMiPerfil.bind(Object(u.a)(r)),r.handlePeliculas=r.handlePeliculas.bind(Object(u.a)(r)),r}return Object(m.a)(a,[{key:"handleCerrarSesion",value:function(e){e.preventDefault(),localStorage.clear(),this.setState({r1:!0})}},{key:"handleMiPerfil",value:function(e){e.preventDefault(),localStorage.setItem("mi_perfil","1"),localStorage.setItem("peliculas","0"),localStorage.setItem("series","0"),localStorage.setItem("favoritas","0"),this.forceUpdate()}},{key:"handlePeliculas",value:function(e){e.preventDefault(),localStorage.setItem("mi_perfil","0"),localStorage.setItem("peliculas","1"),localStorage.setItem("series","0"),localStorage.setItem("favoritas","0"),this.forceUpdate()}},{key:"render",value:function(){return this.state.r1?l.a.createElement(o.a,{to:"/peliculas/login"}):"1"==localStorage.getItem("mi_perfil")?l.a.createElement("div",null,l.a.createElement("h1",{align:"center"},"El Club de la Pel\xedcula"),l.a.createElement("h2",{align:"center"},"La primer regla del Club de la Pel\xedcula es no hablar del Club de la Pel\xedcula"),l.a.createElement("header",null,l.a.createElement("input",{type:"checkbox",id:"btn-menu"}),l.a.createElement("label",{htmlFor:"btn-menu"},l.a.createElement("img",{src:A.a,width:"30px",height:"30px",alt:""})),l.a.createElement("nav",{className:"menu"},l.a.createElement("ul",null,l.a.createElement("li",{onClick:this.handlePeliculas},"Pel\xedculas"),l.a.createElement("li",null,"Series"),l.a.createElement("li",null,"Favoritas"),l.a.createElement("li",{onClick:this.handleMiPerfil},"Mi Perfil"),l.a.createElement("li",{onClick:this.handleCerrarSesion},"Cerrar Sesi\xf3n")))),l.a.createElement(f,null)):"1"==localStorage.getItem("peliculas")?l.a.createElement("div",null,l.a.createElement("h1",{align:"center"},"El Club de la Pel\xedcula"),l.a.createElement("h2",{align:"center"},"La primer regla del Club de la Pel\xedcula es no hablar del Club de la Pel\xedcula"),l.a.createElement("header",null,l.a.createElement("input",{type:"checkbox",id:"btn-menu"}),l.a.createElement("label",{htmlFor:"btn-menu"},l.a.createElement("img",{src:A.a,width:"30px",height:"30px",alt:""})),l.a.createElement("nav",{className:"menu"},l.a.createElement("ul",null,l.a.createElement("li",{onClick:this.handlePeliculas},"Pel\xedculas"),l.a.createElement("li",null,"Series"),l.a.createElement("li",null,"Favoritas"),l.a.createElement("li",{onClick:this.handleMiPerfil},"Mi Perfil"),l.a.createElement("li",{onClick:this.handleCerrarSesion},"Cerrar Sesi\xf3n")))),l.a.createElement(w,null)):void 0}}]),a}(l.a.Component),B=(a(58),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={email:"",password:"",name:"",r1:!1,errorEmailR:"",errorNombreR:"",errorPasswordR:""},r.handleChangeEmail=r.handleChangeEmail.bind(Object(u.a)(r)),r.handleChangePassword=r.handleChangePassword.bind(Object(u.a)(r)),r.handleChangeName=r.handleChangeName.bind(Object(u.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r.handleClickRegresar=r.handleClickRegresar.bind(Object(u.a)(r)),r}return Object(m.a)(a,[{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),g.a.apps.length)a=g.a.app("firestore");else var a=g.a.initializeApp(p,"firestore");a.firestore().collection("usuarios").get().then((function(e){var r=0;if(e.forEach((function(e){e.get("email")==t.state.email&&(r=1)})),1==r)document.getElementById("ErrorEmail").style.visibility="visible",t.setState({errorEmailR:"*Este e-mail ya est\xe1 registrado."});else{var l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;!l.test(t.state.email)||t.state.password.length<8||t.state.password.length>12||t.state.name.includes(" ")||t.state.name.length>20?(l.test(t.state.email)?(document.getElementById("ErrorEmail").style.visibility="hidden",t.setState({errorEmailR:""})):(document.getElementById("ErrorEmail").style.visibility="visible",t.setState({errorEmailR:"*Ingresa un e-mail v\xe1lido"})),t.state.name.includes(" ")?(document.getElementById("ErrorName").style.visibility="visible",t.setState({errorNombreR:"*El nombre no puede contener espacios."})):t.state.name.length>21?(document.getElementById("ErrorName").style.visibility="visible",t.setState({errorNombreR:"*El nombre no puede tener m\xe1s de 20 caracteres."})):(document.getElementById("ErrorName").style.visibility="hidden",t.setState({errorNombreR:""})),t.state.password.length<8||t.state.password.length>12?(document.getElementById("ErrorPassword").style.visibility="visible",t.setState({errorPasswordR:"*La contrase\xf1a debe tener entre 8 y 12 caracteres."})):(document.getElementById("ErrorPassword").style.visibility="hidden",t.setState({errorPasswordR:""}))):(a.firestore().collection("usuarios").add({email:t.state.email,nombre:t.state.name,nivel:"usuario",password:t.state.password}),alert("\xa1Te has registrado con \xe9xito!"))}}))}},{key:"handleClickRegresar",value:function(e){e.preventDefault(),this.setState({r1:!0})}},{key:"render",value:function(){return this.state.r1?l.a.createElement(o.a,{to:"/peliculas/login"}):l.a.createElement("div",null,l.a.createElement("h1",{align:"center"},"El Club de la Pel\xedcula"),l.a.createElement("h2",{align:"center"},"La primer regla del Club de la Pel\xedcula es no hablar del Club de la Pel\xedcula"),l.a.createElement("div",{className:"wrapper fadeInDown"},l.a.createElement("div",{id:"formContent"},l.a.createElement("h2",{align:"center"},"Registro"),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{align:"center"},l.a.createElement("h3",null,l.a.createElement("input",{className:"fadeIn second",required:!0,placeholder:"E-mail",type:"text",value:this.state.email,onChange:this.handleChangeEmail}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"ErrorEmail",style:{visibility:"hidden",color:"red",marginBottom:"20px"}},this.state.errorEmailR),l.a.createElement("br",null),l.a.createElement("input",{className:"fadeIn third",required:!0,placeholder:"Nombre",type:"text",value:this.state.name,onChange:this.handleChangeName}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"ErrorName",style:{visibility:"hidden",color:"red",marginBottom:"20px"}},this.state.errorNombreR),l.a.createElement("br",null),l.a.createElement("input",{className:"fadeIn fourth",required:!0,placeholder:"Contrase\xf1a",type:"password",value:this.state.password,onChange:this.handleChangePassword}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"ErrorPassword",style:{visibility:"hidden",color:"red"}},this.state.errorPasswordR),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Registrar",className:"fadeIn fifth"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"button",value:"Regresar",onClick:this.handleClickRegresar,className:"fadeIn sixth"}),l.a.createElement("br",null),l.a.createElement("br",null)))))))}}]),a}(l.a.Component));var k=function(){return l.a.createElement(s.a,null,l.a.createElement(o.b,{exact:!0,path:"/peliculas",component:E}),l.a.createElement(o.b,{exact:!0,path:"/peliculas/login",component:E}),l.a.createElement(o.b,{exact:!0,path:"/peliculas/inicio",component:P}),l.a.createElement(o.b,{exact:!0,path:"/peliculas/registro",component:B}))},N=document.getElementById("root");i.a.render(l.a.createElement(k,null),N)}},[[36,1,2]]]);
//# sourceMappingURL=main.10c94d61.chunk.js.map